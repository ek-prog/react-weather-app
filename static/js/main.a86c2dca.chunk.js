(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(5),o=a.n(s),r=(a(15),a(4)),i=a.n(r),d=a(6),l=a(2),u=(a(17),a(7)),m=a(8),b=a(10),p=a(9),j=(a(18),a(0));function h(e,t){if(e&&t)return Object(j.jsxs)("h3",{children:[Object(j.jsxs)("span",{className:"px-4",children:[" min ",e,"\xb0"]}),Object(j.jsxs)("span",{className:"px-4",children:[" max ",t,"\xb0"]})]})}var f=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:this.props.city}),Object(j.jsx)("h5",{className:"py-4",children:Object(j.jsx)("i",{className:"wi ".concat(this.props.icon,"display-4")})}),this.props.temp_celsius?Object(j.jsxs)("h2",{className:"py-2",children:[this.props.temp_celsius,"\xb0"]}):null,h(this.props.temp_min,this.props.temp_max),Object(j.jsx)("h4",{className:"py-3",children:this.props.description})]})})}}]),a}(c.a.Component),O=(a(20),a(21),function(e){return Object(j.jsx)("div",{className:"alert alert-danger mx-5",role:"alert",children:"Please Enter City...!"})}),y=function(e){return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("form",{className:"form-inline",onSubmit:e.handleSubmit,children:[Object(j.jsx)("div",{children:e.error?O():""}),Object(j.jsx)("input",{className:"form-control mr-sm-2",type:"search",name:"city",placeholder:"Enter the name of the city"}),Object(j.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Search"})]})})},x=function(){var e=Object(n.useState)({coordinates:{lat:"",lng:""}}),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),r=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(l.a)(d,2),m=(u[0],u[1]),b=function(e){c({coordinates:{lat:e.coords.latitude,lng:e.coords.longitude}})},p=a.coordinates.lat,h=a.coordinates.lng,f=function(e){c({error:e})};return Object(n.useEffect)((function(){"geolocation"in navigator||f({code:0,message:"Geolocation \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432\u0430\u0448\u0438\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c"}),navigator.geolocation.getCurrentPosition(b,f)}),[]),Object(n.useEffect)((function(){fetch("https://geocode-maps.yandex.ru/1.x/?apikey=905a83a5-04b2-4f94-a08f-ce094f8b277c&geocode=".concat(h,",").concat(p,"&format=json&kind=locality")).then((function(e){return e.json()})).then((function(e){e.response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData.AddressDetails.Country.AdministrativeArea.SubAdministrativeArea.Locality.LocalityName?(i(e.response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData.AddressDetails.Country.AdministrativeArea.SubAdministrativeArea.Locality.LocalityName),console.log(e.response.GeoObjectCollection.featureMember[0].GeoObject.description),console.log(e.response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData.AddressDetails.Country.AdministrativeArea.SubAdministrativeArea.Locality.LocalityName),m(!0)):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434")}))}),[]),Object(j.jsxs)("p",{children:[r," ."]})},v="4a6bf012e53cb2f83d7284cb89b2d33a",w=function(){var e=Object(n.useState)(void 0),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(void 0),o=Object(l.a)(s,2),r=o[0],u=o[1],m=Object(n.useState)(void 0),b=Object(l.a)(m,2),p=b[0],h=b[1],O=Object(n.useState)(void 0),w=Object(l.a)(O,2),g=w[0],S=w[1],A=Object(n.useState)(void 0),N=Object(l.a)(A,2),k=N[0],C=N[1],L=Object(n.useState)(""),D=Object(l.a)(L,2),G=D[0],_=D[1],M=Object(n.useState)(!1),z=Object(l.a)(M,2),E=z[0],P=z[1],q={Thunderstorm:"wi-thunderstorm ",Drizzle:"wi-sleet ",Rain:"wi-storm-showers ",Snow:"wi-snow ",Atmosphere:"wi-fog ",Clear:"wi-day-sunny ",Clouds:"wi-day-fog "},I=function(e){return Math.floor(e-273.15)},J=function(e,t){switch(!0){case t>=200&&t<=232:u(e.Thunderstorm),document.body.classList.add("thunderstorm");break;case t>=300&&t<=321:u(e.Drizzle),document.body.classList.add("drizzle");break;case t>=500&&t<=531:u(e.Rain),document.body.classList.add("rain");break;case t>=600&&t<=622:u(e.Snow),document.body.classList.add("snow");break;case t>=701&&t<=781:u(e.Atmosphere),document.body.classList.add("atmosphere");break;case 800===t:u(e.Clear),document.body.classList.add("clear");break;case t>=801&&t<=804:u(e.Clouds),document.body.classList.add("clouds");break;default:u(e.Clouds),document.body.classList.add("clouds")}},R=function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.elements.city.value,console.log(a),a?fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&appid=").concat(v,"&lang=ru")).then((function(e){return e.json()})).then((function(e){c(e.name),h(I(e.main.temp)),S(I(e.main.temp_min)),C(I(e.main.temp_max)),_(e.weather[0].description),J(q,e.weather[0].id)})):P(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=Irkutsk&appid=".concat(v,"&lang=ru")).then((function(e){return e.json()})).then((function(e){c(e.name),h(I(e.main.temp)),S(I(e.main.temp_min)),C(I(e.main.temp_max)),_(e.weather[0].description),J(q,e.weather[0].id)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(y,{handleSubmit:R,error:E}),Object(j.jsx)(f,{city:a,temp_celsius:p,temp_max:k,temp_min:g,description:G,icon:r}),Object(j.jsx)(x,{}),Object(j.jsx)("div",{})]})};o.a.render(Object(j.jsx)(w,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a86c2dca.chunk.js.map